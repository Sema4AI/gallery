{"metadata": {"name": "Google Mail", "description": "Atomic actions operating with Google Mail (GMail).", "secrets": {"/api/actions/google-mail/email-move/run": {"actionPackage": "Google Mail", "action": "email_move", "secrets": {"token": {"type": "OAuth2Secret", "provider": "google", "scopes": ["https://www.googleapis.com/auth/gmail.modify"], "description": "the OAuth2 token for the user"}}}, "/api/actions/google-mail/get-email-content/run": {"actionPackage": "Google Mail", "action": "get_email_content", "secrets": {"token": {"type": "OAuth2Secret", "provider": "google", "scopes": ["https://www.googleapis.com/auth/gmail.readonly"], "description": "the OAuth2 token for the user"}}}, "/api/actions/google-mail/search-emails/run": {"actionPackage": "Google Mail", "action": "search_emails", "secrets": {"token": {"type": "OAuth2Secret", "provider": "google", "scopes": ["https://www.googleapis.com/auth/gmail.readonly"], "description": "the OAuth2 token for the user"}}}, "/api/actions/google-mail/send-email/run": {"actionPackage": "Google Mail", "action": "send_email", "secrets": {"token": {"type": "OAuth2Secret", "provider": "google", "scopes": ["https://www.googleapis.com/auth/gmail.send"], "description": "the OAuth2 token for the user"}}}}, "version": 1}, "openapi.json": {"openapi": "3.1.0", "info": {"title": "Sema4.ai Action Server", "version": "0.11.0"}, "servers": [{"url": "http://localhost:8080"}], "paths": {"/api/actions/google-mail/email-move/run": {"post": {"summary": "Email Move", "description": "Moves emails using Google Email labels with a specific email id\nor with a query filter.\n\nMaximum of 500 emails can be moved at a time (set that on \"all\")\nEmail can be moved to a label or to the trash (label=\"TRASH\").", "operationId": "email_move", "requestBody": {"content": {"application/json": {"schema": {"properties": {"query": {"type": "string", "title": "Query", "description": "the query filter to find emails to move", "default": ""}, "email_ids": {"properties": {"id_list": {"items": {"type": "string"}, "type": "array", "title": "Id List", "description": "A list of email ids", "default": []}}, "type": "object", "title": "Email Ids", "description": "the email id(s) to move", "default": ""}, "label": {"type": "string", "title": "Label", "description": "the label name to apply to the emails", "default": ""}, "max_results": {"type": "integer", "title": "Max Results", "description": "the maximum number of emails to move", "default": 1}}, "type": "object"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Email Move"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": true}}, "/api/actions/google-mail/get-email-content/run": {"post": {"summary": "Get Email Content", "description": "Get Google email content with specific email id or with\na query filter.", "operationId": "get_email_content", "requestBody": {"content": {"application/json": {"schema": {"properties": {"email_id": {"type": "string", "title": "Email Id", "description": "the email id to get the content from", "default": ""}, "query": {"type": "string", "title": "Query", "description": "the query filter to apply to the emails", "default": ""}, "max_results": {"type": "integer", "title": "Max Results", "description": "the maximum number of emails to return (default 10)", "default": 10}}, "type": "object"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"properties": {"items": {"items": {"properties": {"id": {"type": "string", "title": "Id", "description": "The ID of the email", "default": ""}, "subject": {"type": "string", "title": "Subject", "description": "The subject of the email", "default": ""}, "body": {"type": "string", "title": "Body", "description": "The body of the email", "default": ""}, "from": {"type": "string", "title": "From", "description": "The sender of the email", "default": ""}, "to": {"type": "string", "title": "To", "description": "The recipient of the email", "default": ""}, "date": {"type": "string", "title": "Date", "description": "The date the email was sent", "default": ""}, "labels": {"items": {"type": "string"}, "type": "array", "title": "Labels", "description": "The labels associated with the email", "default": []}, "attachments": {"items": {"properties": {"filename": {"type": "string", "title": "Filename", "description": "The name of the attachment", "default": ""}, "mimetype": {"type": "string", "title": "Mimetype", "description": "The MIME type of the attachment", "default": ""}, "filesize": {"type": "integer", "title": "Filesize", "description": "The filesize of the attachment in bytes", "default": 0}}, "type": "object", "title": "Attachment"}, "type": "array", "title": "Attachments", "default": [], "decscription": "The attachments of the email"}}, "type": "object", "title": "Email"}, "type": "array", "title": "Items", "description": "A list of emails matching the filter", "default": []}, "error_message": {"type": "string", "title": "Error Message", "description": "Possible error message", "default": ""}}, "type": "object", "title": "Emails"}, {"type": "null"}], "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Get Email Content"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": false}}, "/api/actions/google-mail/search-emails/run": {"post": {"summary": "Search Emails", "description": "Search Google emails with a query filter.\nPlease inform user if there are more than `max_results` emails.", "operationId": "search_emails", "requestBody": {"content": {"application/json": {"schema": {"properties": {"query": {"type": "string", "title": "Query", "description": "the query filter to apply to the emails"}, "max_results": {"type": "integer", "title": "Max Results", "description": "the maximum number of emails to return (default 500)", "default": 500}}, "type": "object", "required": ["query"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"properties": {"items": {"items": {"properties": {"id": {"type": "string", "title": "Id", "description": "The ID of the email", "default": ""}, "subject": {"type": "string", "title": "Subject", "description": "The subject of the email", "default": ""}, "body": {"type": "string", "title": "Body", "description": "The body of the email", "default": ""}, "from": {"type": "string", "title": "From", "description": "The sender of the email", "default": ""}, "to": {"type": "string", "title": "To", "description": "The recipient of the email", "default": ""}, "date": {"type": "string", "title": "Date", "description": "The date the email was sent", "default": ""}, "labels": {"items": {"type": "string"}, "type": "array", "title": "Labels", "description": "The labels associated with the email", "default": []}, "attachments": {"items": {"properties": {"filename": {"type": "string", "title": "Filename", "description": "The name of the attachment", "default": ""}, "mimetype": {"type": "string", "title": "Mimetype", "description": "The MIME type of the attachment", "default": ""}, "filesize": {"type": "integer", "title": "Filesize", "description": "The filesize of the attachment in bytes", "default": 0}}, "type": "object", "title": "Attachment"}, "type": "array", "title": "Attachments", "default": [], "decscription": "The attachments of the email"}}, "type": "object", "title": "Email"}, "type": "array", "title": "Items", "description": "A list of emails matching the filter", "default": []}, "error_message": {"type": "string", "title": "Error Message", "description": "Possible error message", "default": ""}}, "type": "object", "title": "Emails"}, {"type": "null"}], "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Search Emails"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": false}}, "/api/actions/google-mail/send-email/run": {"post": {"summary": "Send Email", "description": "Send the email to the recipient(s) using the Gmail API.\nThe recipients can be given with `to` parameter as a comma separated list.", "operationId": "send_email", "requestBody": {"content": {"application/json": {"schema": {"properties": {"subject": {"type": "string", "title": "Subject", "description": "the subject of the email"}, "message": {"type": "string", "title": "Message", "description": "the message of the email"}, "to": {"type": "string", "title": "To", "description": "the email address(es) of the recipient(s), comma separated"}}, "type": "object", "required": ["subject", "message", "to"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Send Email"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": true}}}, "components": {"schemas": {"HTTPValidationError": {"properties": {"errors": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Errors"}}, "type": "object", "title": "HTTPValidationError"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}}}
