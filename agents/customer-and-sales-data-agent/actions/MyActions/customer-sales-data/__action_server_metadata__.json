{"metadata": {"name": "customer-sales-data", "description": "Actions for querying sales/customer data in Postgres and the static CSV file.", "secrets": {}, "action_package_version": "1.1.0", "metadata_version": 3, "data": {"datasources": [{"name": "files", "engine": "files", "description": "Historic sales data from 2023-2024.", "defined_at": {"file": "data_sources.py", "line": 10}, "created_table": "sales_data", "file": "files/sales_data.csv"}, {"name": "public_demo", "engine": "postgres", "description": "Contains DEMO customer information", "defined_at": {"file": "data_sources.py", "line": 20}}]}}, "openapi.json": {"openapi": "3.1.0", "info": {"title": "Sema4.ai Action Server", "version": "2.3.0"}, "servers": [{"url": "http://localhost:8080"}], "paths": {"/api/actions/customer-sales-data/get-customers-in-country/run": {"post": {"summary": "Get Customers In Country", "description": "Get all customer names, their id's and account managers in a given country.", "operationId": "get_customers_in_country", "requestBody": {"content": {"application/json": {"schema": {"properties": {"country": {"type": "string", "title": "Country", "description": "Name of the country in english, for example \"France\""}}, "type": "object", "required": ["country"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Get Customers In Country", "description": "Customers in the country as markdown."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-operation-kind": "query"}}, "/api/actions/customer-sales-data/get-customers-orders-per-month/run": {"post": {"summary": "Get Customers Orders Per Month", "description": "Get one customer's aggregated order totals (sales) for all historic months.", "operationId": "get_customers_orders_per_month", "requestBody": {"content": {"application/json": {"schema": {"properties": {"company_name": {"type": "string", "title": "Company Name", "description": "Company name or part of it like \"GermanSys\""}}, "type": "object", "required": ["company_name"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Get Customers Orders Per Month", "description": "Customers historic orders (sales) per month as markdown.\nIf more than one company is found with the name, the action returns the list of all found companies to choose from."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-operation-kind": "query"}}, "/api/actions/customer-sales-data/get-countries/run": {"post": {"summary": "Get Countries", "description": "Get all countries where there are customers. Use this to understand the dataset better.", "operationId": "get_countries", "requestBody": {"content": {"application/json": {"schema": {"properties": {}, "type": "object"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Get Countries", "description": "List of all countries."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-operation-kind": "query"}}, "/api/actions/customer-sales-data/get-customers/run": {"post": {"summary": "Get Customers", "description": "Get all available customers company names and their ids.", "operationId": "get_customers", "requestBody": {"content": {"application/json": {"schema": {"properties": {}, "type": "object"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Get Customers", "description": "List of all customers and their IDs."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-operation-kind": "query"}}}, "components": {"schemas": {"HTTPValidationError": {"properties": {"errors": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Errors"}}, "type": "object", "title": "HTTPValidationError"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}}}